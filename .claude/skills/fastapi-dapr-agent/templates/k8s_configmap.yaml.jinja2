apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ service_name }}-config
  labels:
    app: {{ service_name }}
data:
  # Application
  APP_NAME: "{{ service_name }}"
  APP_VERSION: "{{ version }}"
  LOG_LEVEL: "INFO"
  DEBUG: "false"

  # Server
  HOST: "0.0.0.0"
  PORT: "{{ port }}"

  # Dapr
  DAPR_HOST: "localhost"
  DAPR_HTTP_PORT: "3500"
  DAPR_GRPC_PORT: "50001"

  {% if has_agent %}
  # OpenAI
  OPENAI_MODEL: "{{ openai_model }}"
  OPENAI_TEMPERATURE: "0.7"
  OPENAI_MAX_TOKENS: "2000"
  {% endif %}

  {% if has_state %}
  # State Store
  STATE_STORE_NAME: "state-store"
  {% endif %}

  {% if has_pubsub %}
  # Pub/Sub
  PUBSUB_COMPONENT_NAME: "kafka-pubsub"
  {% endif %}
