# LearnFlow Microservices Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# Database Configuration
# ============================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/learnflow
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ============================================
# Kafka Configuration
# ============================================
KAFKA_BROKERS=localhost:9092
KAFKA_CONSUMER_GROUP=learnflow-services

# ============================================
# Dapr Configuration
# ============================================
DAPR_HTTP_PORT=3500
DAPR_GRPC_PORT=50001
DAPR_HTTP_ENDPOINT=http://localhost:3500

# ============================================
# OpenAI Configuration
# ============================================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=1000
OPENAI_TIMEOUT=30

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET_KEY=your-secret-key-here-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Service Ports
# ============================================
API_GATEWAY_PORT=8180
TRIAGE_SERVICE_PORT=8100
CONCEPTS_AGENT_PORT=8101
CODE_REVIEW_AGENT_PORT=8103
DEBUG_AGENT_PORT=8104
EXERCISE_AGENT_PORT=8105
PROGRESS_SERVICE_PORT=8106
CODE_EXECUTION_PORT=8107
WEBSOCKET_SERVICE_PORT=8108
NOTIFICATION_SERVICE_PORT=8109

# ============================================
# Code Execution Configuration
# ============================================
CODE_EXECUTION_TIMEOUT=5
CODE_EXECUTION_MEMORY_LIMIT=50m
CODE_EXECUTION_CPU_LIMIT=1
DOCKER_IMAGE=python:3.10-slim

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# Circuit Breaker Configuration
# ============================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_HALF_OPEN_ATTEMPTS=3

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================
# Health Check Configuration
# ============================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# ============================================
# Environment
# ============================================
ENVIRONMENT=development
DEBUG=true
